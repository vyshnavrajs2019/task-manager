(this["webpackJsonptask-manager"]=this["webpackJsonptask-manager"]||[]).push([[0],[,,,function(e,a,t){e.exports={TaskForm:"TaskForm_TaskForm__NJsvG",TaskForm__Group:"TaskForm_TaskForm__Group__3sW0B",TaskForm__Input:"TaskForm_TaskForm__Input__1r08s",TaskForm__SubmitButton:"TaskForm_TaskForm__SubmitButton___cs80",TaskForm__DateTimeInput:"TaskForm_TaskForm__DateTimeInput__2x0TD"}},,function(e,a,t){e.exports={"flex-row":"Task_flex-row__SlW2E",Task__Owner:"Task_Task__Owner__3L5R_","flex-row_v-start":"Task_flex-row_v-start__1nN66","flex-row_v-center":"Task_flex-row_v-center__1QRux","flex-row_v-end":"Task_flex-row_v-end__3zYlP","flex-row_h-start":"Task_flex-row_h-start__38OPa","flex-row_h-center":"Task_flex-row_h-center__14psf","flex-row_h-end":"Task_flex-row_h-end__3uI1s","flex-column":"Task_flex-column__6hSv0","flex-column_h-start":"Task_flex-column_h-start__1wsQl","flex-column_h-center":"Task_flex-column_h-center__3AUuR","flex-column_h-end":"Task_flex-column_h-end__3WbwM","flex-column_v-start":"Task_flex-column_v-start__1jwRQ","flex-column_v-center":"Task_flex-column_v-center__3peln","flex-column_v-end":"Task_flex-column_v-end__4zFr_","flex-fill":"Task_flex-fill__2oeio",Task:"Task_Task__IGOpL",Task__Title:"Task_Task__Title__gOfja",Task__OwnerPicture:"Task_Task__OwnerPicture__3Jltu",Task__Date:"Task_Task__Date__1O_sp",Task__Footer:"Task_Task__Footer__2G-hl"}},function(e,a,t){e.exports={"flex-row":"App_flex-row__S7a4m",App:"App_App__1xjOI",App__TasksContainer:"App_App__TasksContainer__-OTky","flex-row_v-start":"App_flex-row_v-start__1yhM5","flex-row_v-center":"App_flex-row_v-center__10Mgr","flex-row_v-end":"App_flex-row_v-end__3wTgM","flex-row_h-start":"App_flex-row_h-start__mw8uO","flex-row_h-center":"App_flex-row_h-center__3Bm_x","flex-row_h-end":"App_flex-row_h-end__2048R","flex-column":"App_flex-column__2iKEQ","flex-column_h-start":"App_flex-column_h-start__1bQdD","flex-column_h-center":"App_flex-column_h-center__3UJAi","flex-column_h-end":"App_flex-column_h-end__2L08Z","flex-column_v-start":"App_flex-column_v-start__3sinF","flex-column_v-center":"App_flex-column_v-center__1Ub2g","flex-column_v-end":"App_flex-column_v-end__10pgC","flex-fill":"App_flex-fill__2l_N5",AppCenter:"App_AppCenter__d5MKJ",App__Search:"App_App__Search__20HmA",App__SearchInput:"App_App__SearchInput__2PkF8",App__MenuHandler:"App_App__MenuHandler__17h_S",App__MenuButton:"App_App__MenuButton__113G1"}},function(e,a,t){e.exports={"flex-row":"Modal_flex-row__2yRLe",Modal__Header:"Modal_Modal__Header__2c6WN","flex-row_v-start":"Modal_flex-row_v-start__2wCD9","flex-row_v-center":"Modal_flex-row_v-center__bEnnS","flex-row_v-end":"Modal_flex-row_v-end__o19xx","flex-row_h-start":"Modal_flex-row_h-start__1rEuu","flex-row_h-center":"Modal_flex-row_h-center__27EBH","flex-row_h-end":"Modal_flex-row_h-end__WfyW9","flex-column":"Modal_flex-column__3sk6i","flex-column_h-start":"Modal_flex-column_h-start__2aJ-C","flex-column_h-center":"Modal_flex-column_h-center__3ViJY","flex-column_h-end":"Modal_flex-column_h-end__1I7EE","flex-column_v-start":"Modal_flex-column_v-start__yWgFf","flex-column_v-center":"Modal_flex-column_v-center__32WVz","flex-column_v-end":"Modal_flex-column_v-end__2PhE0","flex-fill":"Modal_flex-fill__1NajS",Modal:"Modal_Modal__2Z8aP",Modal__Title:"Modal_Modal__Title__27xwu",Modal__Close:"Modal_Modal__Close__32Gi3",Modal__Body:"Modal_Modal__Body__2-QRa",ModalOverlay:"Modal_ModalOverlay__vd5tc"}},,,,function(e,a,t){e.exports={"flex-row":"Tasks_flex-row__T6xFz","flex-row_v-start":"Tasks_flex-row_v-start__3-Z8V","flex-row_v-center":"Tasks_flex-row_v-center__1XKdW","flex-row_v-end":"Tasks_flex-row_v-end__3VUru","flex-row_h-start":"Tasks_flex-row_h-start__1xteP","flex-row_h-center":"Tasks_flex-row_h-center__1Dg9i","flex-row_h-end":"Tasks_flex-row_h-end__2yfaP","flex-column":"Tasks_flex-column__6X6WO","flex-column_h-start":"Tasks_flex-column_h-start__2TOLu","flex-column_h-center":"Tasks_flex-column_h-center__2L79O","flex-column_h-end":"Tasks_flex-column_h-end__3a_dT","flex-column_v-start":"Tasks_flex-column_v-start__1JwM_","flex-column_v-center":"Tasks_flex-column_v-center__260Jf","flex-column_v-end":"Tasks_flex-column_v-end__2MdaG","flex-fill":"Tasks_flex-fill__aSf_e",Tasks:"Tasks_Tasks__4E-yC"}},function(e,a,t){e.exports={Loader:"Loader_Loader__Ql2Gi"}},,,,,,function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),_=t(1),s=t.n(_),o=t(10),l=t.n(o),r=(t(18),t(2)),c=t(4),d=t(7),i=t.n(d);var u=function(e){var a=e.modal,t=e.showModal,_=e.setShowModal,o=a.component;return t?Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsxs)("div",{className:i.a.Modal,children:[Object(n.jsxs)("div",{className:i.a.Modal__Header,children:[Object(n.jsx)("div",{className:i.a.Modal__Title,children:Object(n.jsx)("b",{children:a.title})}),Object(n.jsx)("button",{onClick:function(){return _(!1)},type:"button",className:i.a.Modal__Close,children:"x"})]}),Object(n.jsx)("div",{className:i.a.Modal__Body,children:Object(n.jsx)(o,Object(c.a)(Object(c.a)({},a.componentData),{},{setShowModal:_}))})]}),Object(n.jsx)("div",{className:i.a.ModalOverlay,onClick:function(){return _(!1)}})]}):null},f=t(8),x=[{name:"HIGH",value:3},{name:"MEDIUM",value:2},{name:"LOW",value:1}],p="H0kW4yJvagndTDPC6kJp8gZhokvjYZ4v",m="POST",h=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={AuthToken:p};if(a===m){var _=new FormData;return Object.entries(t).forEach((function(e){var a=Object(r.a)(e,2),t=a[0],n=a[1];return _.append(t,n)})),fetch(e,{method:a,headers:n,body:_})}return fetch(e,{headers:n})},j=function(){return h("https://devza.com/tests/tasks/listusers")},v=function(e){return h("https://devza.com/tests/tasks/create",m,e)},T=function(e){return h("https://devza.com/tests/tasks/update",m,e)},k=t(3),O=t.n(k),b="EDIT";var w=function(e){var a,t,s=e.actionType,o=e.instanceData,l=void 0===o?{}:o,d=e.setShowModal,i=e.loadTasks,u=e.setShowLoader,p="Create";s===b&&(p="Update");var m=Object(_.useState)({title:(null===l||void 0===l?void 0:l.message)||"",owner:(null===l||void 0===l?void 0:l.assigned_to)||"0",priority:(null===l||void 0===l?void 0:l.priority)||"0",dueDate:(null===l||void 0===l||null===(a=l.due_date)||void 0===a?void 0:a.split(" ")[0])||"",dueTime:(null===l||void 0===l||null===(t=l.due_date)||void 0===t?void 0:t.split(" ")[1].split(":").slice(0,2).join(":"))||""}),h=Object(r.a)(m,2),k=h[0],w=h[1],M=Object(_.useState)([]),g=Object(r.a)(M,2),A=g[0],D=g[1];Object(_.useEffect)((function(){j().then((function(e){return e.json()})).then((function(e){D(e.users)})).catch((function(e){alert("ERROR OCCURED"),console.log(e)}))}),[]);var C=function(e){var a=e.target.value,t=e.target.getAttribute("name");w(Object(c.a)(Object(c.a)({},k),{},Object(f.a)({},t,a)))},S=function(e){var a=+e.target.value,t=e.target.getAttribute("name");w(Object(c.a)(Object(c.a)({},k),{},Object(f.a)({},t,a)))},F=x.map((function(e){return Object(n.jsx)("option",{value:e.value,children:e.name},e.value)}));s!==b&&F.unshift(Object(n.jsx)("option",{defaultValue:!0,disabled:!0,value:"0",children:"Priority"},"0"));var y=A.map((function(e){return Object(n.jsx)("option",{value:e.id,children:e.name},e.id)}));return s!==b&&y.unshift(Object(n.jsx)("option",{defaultValue:!0,disabled:!0,value:"0",children:"Owner"},"0")),Object(n.jsxs)("form",{className:O.a.TaskForm,onSubmit:function(e){e.preventDefault();var a={message:k.title};"0"!==k.priority&&(a.priority=k.priority),"0"!==k.owner&&(a.assigned_to=k.owner),""!==k.dueDate&&""!==k.dueTime&&(a.due_date="".concat(k.dueDate," ").concat(k.dueTime,":00")),s===b&&(a.taskid=l.id);var t=s===b?T:v;u(!0),t(a).then(i).catch((function(){return u(!1)})),d(!1)},children:[Object(n.jsx)("div",{className:O.a.TaskForm__Group,children:Object(n.jsx)("input",{type:"text",value:k.title,className:O.a.TaskForm__Input,placeholder:"Task",name:"title",onChange:C})}),Object(n.jsx)("div",{className:O.a.TaskForm__Group,children:Object(n.jsx)("select",{name:"priority",className:O.a.TaskForm__Input,onChange:S,value:k.priority,children:F})}),Object(n.jsx)("div",{className:O.a.TaskForm__Group,children:Object(n.jsx)("select",{name:"owner",className:O.a.TaskForm__Input,onChange:S,value:k.owner,children:y})}),Object(n.jsxs)("div",{className:O.a.TaskForm__Group,children:[Object(n.jsx)("input",{type:"date",name:"dueDate",value:k.dueDate,onChange:C,className:O.a.TaskForm__DateTimeInput}),Object(n.jsx)("input",{type:"time",name:"dueTime",value:k.dueTime,onChange:C,className:O.a.TaskForm__DateTimeInput})]}),Object(n.jsx)("div",{className:O.a.TaskForm__Group,children:Object(n.jsxs)("button",{type:"submit",className:O.a.TaskForm__SubmitButton,children:[p," Task"]})})]})},M=t(5),g=t.n(M);var A=function(e){var a=e.task,t=e.owners,_=e.openEditTaskModal,o=e.loadTasks,l=e.setShowLoader,r=(e.dragTask,e.setDragTask),c=Object(n.jsx)("span",{style:{fontSize:12,color:"grey"},children:"No task owner"});if(a.assigned_to){var d=t.find((function(e){return e.id===a.assigned_to}));c=Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)("div",{className:g.a.Task__OwnerPicture,style:{backgroundImage:"url(".concat((null===d||void 0===d?void 0:d.picture)||"",")")}}),Object(n.jsx)("span",{children:a.assigned_name})]})}return Object(n.jsxs)("div",{className:g.a.Task,draggable:!0,onDragStart:function(){r(a)},children:[Object(n.jsx)("div",{className:g.a.Task__Title,children:Object(n.jsx)("span",{children:a.message})}),Object(n.jsx)("div",{className:g.a.Task__Owner,children:c}),Object(n.jsx)("div",{className:g.a.Task__Date,children:Object(n.jsxs)("span",{children:["Due: ",a.due_date]})}),Object(n.jsx)("div",{className:g.a.Task__Date,children:Object(n.jsxs)("span",{children:["Created: ",a.created_on]})}),Object(n.jsxs)("div",{className:g.a.Task__Footer,children:[Object(n.jsx)("span",{onClick:function(){return _(a)},children:"EDIT"}),Object(n.jsx)("span",{onClick:function(){var e;l(!0),(e={taskid:a.id},h("https://devza.com/tests/tasks/delete",m,e)).then(o).catch((function(e){l(!1),alert("ERROR OCCURED"),console.log(e)}))},children:"DELETE"})]})]})},D=t(11),C=t.n(D);var S=function(e){var a=e.tasks,t=e.priority,s=e.search,o=e.openEditTaskModal,l=e.loadTasks,d=e.setShowLoader,i=e.dragTask,u=e.setDragTask,f=Object(_.useState)([]),x=Object(r.a)(f,2),p=x[0],m=x[1];Object(_.useEffect)((function(){j().then((function(e){return e.json()})).then((function(e){return m(e.users)})).catch((function(e){alert("ERROR OCCURED"),console.log(e)}))}),[]);var h=a.filter((function(e){return+e.priority===t.value&&e.message.toLowerCase().includes(s.toLowerCase())})).map((function(e){return Object(n.jsx)(A,{task:e,owners:p,openEditTaskModal:o,loadTasks:l,setShowLoader:d,dragTask:i,setDragTask:u},e.id)}));return Object(n.jsxs)("div",{className:C.a.Tasks,onDrop:function(){d(!0),T(Object(c.a)(Object(c.a)({},i),{},{taskid:i.id,priority:t.value})).then(l).catch((function(e){d(!1),alert("ERROR OCCURED"),console.log(e)}))},onDragOver:function(e){return e.preventDefault()},children:[Object(n.jsx)("h3",{children:t.name}),h]})},F=t(6),y=t.n(F),N=t(12),E=t.n(N);var R=function(e){return e.showLoader?Object(n.jsx)("div",{className:E.a.Loader,children:Object(n.jsx)("span",{children:"Loading..."})}):null};var L=function(){var e=Object(_.useState)({}),a=Object(r.a)(e,2),t=a[0],s=a[1],o=Object(_.useState)(!1),l=Object(r.a)(o,2),c=l[0],d=l[1],i=Object(_.useState)(""),f=Object(r.a)(i,2),p=f[0],m=f[1],j=Object(_.useState)([]),v=Object(r.a)(j,2),T=v[0],k=v[1],O=Object(_.useState)(!1),M=Object(r.a)(O,2),g=M[0],A=M[1],D=Object(_.useState)(null),C=Object(r.a)(D,2),F=C[0],N=C[1],E=function(){A(!0),h("https://devza.com/tests/tasks/list").then((function(e){return e.json()})).then((function(e){A(!1),k(e.tasks)})).catch((function(e){A(!1),alert("ERROR OCCURED"),console.log(e)}))};Object(_.useEffect)(E,[]);var L=function(e){s({component:w,componentData:{actionType:b,instanceData:e,loadTasks:E,setShowLoader:A},title:"Update Task"}),d(!0)},I=x.map((function(e,a){return Object(n.jsx)(S,{search:p,priority:e,tasks:T,openEditTaskModal:L,loadTasks:E,setShowLoader:A,dragTask:F,setDragTask:N},a)}));return Object(n.jsxs)("div",{className:y.a.App,children:[Object(n.jsxs)("div",{className:y.a.AppCenter,children:[Object(n.jsx)("h1",{children:"Task Manager"}),Object(n.jsx)("div",{className:y.a.App__Search,children:Object(n.jsx)("input",{className:y.a.App__SearchInput,type:"text",value:p,onChange:function(e){return m(e.target.value)},placeholder:"Search..."})}),Object(n.jsx)("div",{className:y.a.App__MenuHandler,children:Object(n.jsx)("button",{onClick:function(){s({component:w,componentData:{actionType:"ADD",loadTasks:E,setShowLoader:A},title:"Create Task"}),d(!0)},type:"button",className:y.a.App__MenuButton,children:"Create Task"})}),Object(n.jsx)("div",{className:y.a.App__TasksContainer,children:I})]}),Object(n.jsx)(u,{showModal:c,setShowModal:d,modal:t,setModal:s}),Object(n.jsx)(R,{showLoader:g})]})},I=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,20)).then((function(a){var t=a.getCLS,n=a.getFID,_=a.getFCP,s=a.getLCP,o=a.getTTFB;t(e),n(e),_(e),s(e),o(e)}))};l.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(L,{})}),document.getElementById("root")),I()}],[[19,1,2]]]);
//# sourceMappingURL=main.b8283baa.chunk.js.map